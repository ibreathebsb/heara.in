{"data":{"site":{"siteMetadata":{"title":"Heara.in","author":"Isaac Young"}},"markdownRemark":{"id":"8b123c7c-6781-5ec7-ae37-a57292104644","html":"<p>ä½ è§‰å¾—ä½ åœ¨å†™JSXï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>marquee</span> <span class=\"token attr-name\">bgcolor</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#ffa7c4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">hi</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>marquee</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>å…¶å®ï¼Œä½ åœ¨è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">/* type */</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/* props */</span> <span class=\"token punctuation\">{</span> bgcolor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#ffa7c4'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/* children */</span> <span class=\"token string\">'hi'</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä¹‹åæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ç»™ä½ ï¼Œæˆ‘ä»¬ç§°æ­¤å¯¹è±¡ä¸ºReactçš„ <em>å…ƒç´ </em>(element)ï¼Œå®ƒå‘Šè¯‰Reactä¸‹ä¸€ä¸ªè¦æ¸²æŸ“ä»€ä¹ˆã€‚ä½ çš„ç»„ä»¶(component)è¿”å›ä¸€ä¸ªå®ƒä»¬ç»„æˆçš„æ ‘(tree)ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    bgcolor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#ffa7c4'</span><span class=\"token punctuation\">,</span>\n    children<span class=\"token punctuation\">:</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">  $$<span class=\"token keyword\">typeof</span><span class=\"token punctuation\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ğŸ§ Who dis</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¦‚æœä½ ç”¨è¿‡Reactï¼Œå¯¹<code class=\"language-text\">type</code>ã€ <code class=\"language-text\">props</code>ã€ <code class=\"language-text\">key</code>ã€ å’Œ <code class=\"language-text\">ref</code>åº”è¯¥ç†Ÿæ‚‰ã€‚ <strong>ä½† <code class=\"language-text\">$$typeof</code> æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆç”¨ <code class=\"language-text\">Symbol()</code> ä½œä¸ºå®ƒçš„å€¼</strong>ï¼Ÿ</p>\n<p>è¿™åˆæ˜¯ä¸€ä¸ªä¸ä½ å­¦ä¹ ä½¿ç”¨Reactä¸ <em>ç›¸å…³</em> çš„ç‚¹ï¼Œä½†äº†è§£åä½ ä¼šè§‰å¾—èˆ’å¦ã€‚è¿™ç¯‡æ–‡ç« é‡Œä¹Ÿæåˆ°äº†äº›å…³äºå®‰å…¨çš„æç¤ºï¼Œä½ å¯èƒ½ä¼šæ„Ÿå…´è¶£ã€‚ä¹Ÿè®¸æœ‰ä¸€å¤©ä½ ä¼šæœ‰è‡ªå·±çš„UIåº“ï¼Œè¿™äº›éƒ½ä¼šæ´¾ä¸Šç”¨åœºçš„ï¼Œæˆ‘çœŸçš„å¸Œæœ›å¦‚æ­¤ã€‚</p>\n<hr>\n<p>åœ¨å®¢æˆ·ç«¯UIåº“å˜å¾—æ™®éä¸”å…·æœ‰åŸºæœ¬ä¿æŠ¤ä½œç”¨ä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºä»£ç é€šå¸¸æ˜¯å…ˆæ„å»º HTMLï¼Œç„¶åæŠŠå®ƒæ’å…¥DOMä¸­ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> messageEl <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmessageEl<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;p>'</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">.</span>text <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™æ ·çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†å½“ä½  <code class=\"language-text\">message.text</code> çš„å€¼ç±»ä¼¼ <code class=\"language-text\">&#39;&lt;img src onerror=&quot;stealYourPassword()&quot;&gt;&#39;</code> æ—¶ï¼Œ<strong>ä½ ä¸ä¼šå¸Œæœ›åˆ«äººå†™çš„å†…å®¹åœ¨ä½ åº”ç”¨çš„HTMLä¸­é€å­—æ˜¾ç¤ºçš„ã€‚</strong></p>\n<p>(æœ‰è¶£çš„æ˜¯ï¼šå¦‚æœä½ åªæ˜¯åœ¨å‰ç«¯æ¸²æŸ“ï¼Œè¿™é‡Œä¸º <code class=\"language-text\">&lt;script&gt;</code> æ ‡ç­¾ï¼ŒJavaScriptä»£ç ä¸ä¼šè¢«è¿è¡Œã€‚ä½†<a href=\"https://gomakethings.com/preventing-cross-site-scripting-attacks-when-using-innerhtml-in-vanilla-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ä¸è¦å› æ­¤</a>è®©ä½ é™·å…¥å·²ç»å®‰å…¨çš„é”™è§‰ã€‚)</p>\n<p>ä¸ºä»€ä¹ˆé˜²æ­¢æ­¤ç±»æ”»å‡»ï¼Œä½ å¯ä»¥ç”¨åªå¤„ç†æ–‡æœ¬çš„ <code class=\"language-text\">document.createTextNode()</code> æˆ–è€… <code class=\"language-text\">textContent</code>ç­‰å®‰å…¨çš„APIã€‚ä½ ä¹Ÿå¯ä»¥äº‹å…ˆå°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œç”¨è½¬ä¹‰ç¬¦æŠŠæ½œåœ¨å±é™©å­—ç¬¦(<code class=\"language-text\">&lt;</code>ã€<code class=\"language-text\">&gt;</code>ç­‰)æ›¿æ¢æ‰ã€‚</p>\n<p>å°½ç®¡å¦‚æ­¤ï¼Œè¿™ä¸ªé—®é¢˜çš„æˆæœ¬ä»£ä»·å¾ˆé«˜ï¼Œä¸”å¾ˆéš¾åšåˆ°ç”¨æˆ·æ¯æ¬¡è¾“å…¥éƒ½è®°å¾—è½¬æ¢ä¸€æ¬¡ã€‚<strong>å› æ­¤åƒReactç­‰æ–°åº“ä¼šé»˜è®¤è¿›è¡Œæ–‡æœ¬è½¬ä¹‰ï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>å¦‚æœ <code class=\"language-text\">message.text</code> æ˜¯ä¸€ä¸ªå¸¦æœ‰ <code class=\"language-text\">&lt;img&gt;</code> æˆ–å…¶ä»–æ ‡ç­¾çš„æ¶æ„å­—ç¬¦ä¸²ï¼Œå®ƒä¸ä¼šè¢«å½“æˆçœŸçš„ <code class=\"language-text\">&lt;img&gt;</code> æ ‡ç­¾å¤„ç†ï¼ŒReactä¼šå…ˆè¿›è¡Œè½¬ä¹‰ <em>ç„¶å</em> æ’å…¥DOMé‡Œã€‚æ‰€ä»¥<code class=\"language-text\">&lt;img&gt;</code>æ ‡ç­¾ä¼šä»¥æ–‡æœ¬çš„å½¢å¼å±•ç°å‡ºæ¥ã€‚</p>\n<p>è¦åœ¨Reactå…ƒç´ ä¸­æ¸²æŸ“ä»»æ„HTMLï¼Œä½ ä¸å¾—ä¸å†™<code class=\"language-text\">dangerouslySetInnerHTML={{ __html: message.text }}</code>ã€‚<strong>å…¶å®è¿™ç§æ„šè ¢çš„å†™æ³•æ˜¯ä¸€ä¸ªåŠŸèƒ½</strong>ï¼Œåœ¨code reviewså’Œä»£ç åº“å®¡æ ¸æ—¶ï¼Œä½ å¯ä»¥éå¸¸æ¸…æ™°çš„å®šä½åˆ°ä»£ç ã€‚</p>\n<hr>\n<p><strong>è¿™æ„å‘³ç€Reactå®Œå…¨ä¸æƒ§æ³¨å…¥æ”»å‡»äº†å—ï¼Ÿä¸</strong>ï¼ŒHTMLå’ŒDOMæš´éœ²äº†<a href=\"https://github.com/facebook/react/issues/3473#issuecomment-90594748\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">å¤§é‡æ”»å‡»ç‚¹</a>ï¼Œå¯¹Reactæˆ–è€…å…¶ä»–UIåº“æ¥è¯´ï¼Œè¦å‡è½»ä¼¤å®³å¤ªéš¾æˆ–è¿›å±•ç¼“æ…¢ã€‚å¤§éƒ¨åˆ†å­˜åœ¨çš„æ”»å‡»æ–¹å‘æ¶‰åŠåˆ°å±æ€§ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æ¸²æŸ“<code class=\"language-text\">&lt;a href={user.website}</code>ï¼Œè¦æé˜²ç”¨æˆ·çš„ç½‘å€æ˜¯ <code class=\"language-text\">&#39;javascript: stealYourPassword()&#39;</code>ã€‚ åƒ<code class=\"language-text\">&lt;div {...userData}&gt;</code>å†™æ³•å‡ ä¹ä¸å—ç”¨æˆ·è¾“å…¥å½±å“ï¼Œä½†ä¹Ÿæœ‰å±é™©ã€‚</p>\n<p>React<a href=\"https://github.com/facebook/react/issues/10506\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">å¯ä»¥</a>é€æ­¥æä¾›æ›´å¤šä¿æŠ¤ï¼Œä½†åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¨èƒæ˜¯æœåŠ¡å™¨äº§ç”Ÿçš„ï¼Œè¿™ä¸ç®¡æ€æ ·éƒ½<a href=\"https://github.com/facebook/react/issues/3473#issuecomment-91327040\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">åº”è¯¥</a>è¦é¿å…ã€‚</p>\n<p>ä¸è¿‡ï¼Œè½¬ä¹‰æ–‡æœ¬è¿™ç¬¬ä¸€é“é˜²çº¿å¯ä»¥æ‹¦ä¸‹è®¸å¤šæ½œåœ¨æ”»å‡»ï¼ŒçŸ¥é“è¿™æ ·çš„ä»£ç æ˜¯å®‰å…¨çš„å°±å¤Ÿäº†å—ï¼Ÿ</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Escaped automatically</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><strong>å¥½å§ï¼Œä¹Ÿä¸æ€»æ˜¯æœ‰æ•ˆçš„</strong>ã€‚è¿™å°±æ˜¯ <code class=\"language-text\">$$typeof</code> çš„ç”¨æ­¦ä¹‹åœ°äº†ã€‚</p>\n<hr>\n<p>Reactå…ƒç´ (elements)æ˜¯è®¾è®¡å¥½çš„ <em>plain object</em>ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    bgcolor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#ffa7c4'</span><span class=\"token punctuation\">,</span>\n    children<span class=\"token punctuation\">:</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  $$<span class=\"token keyword\">typeof</span><span class=\"token punctuation\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è™½ç„¶é€šå¸¸ç”¨ <code class=\"language-text\">React.createElement()</code> åˆ›å»ºå®ƒï¼Œä½†è¿™ä¸æ˜¯å¿…é¡»çš„ã€‚æœ‰ä¸€äº›Reactç”¨ä¾‹æ¥è¯å®åƒä¸Šé¢è¿™æ ·çš„ <em>plain object</em>å…ƒç´ æ˜¯æœ‰æ•ˆçš„ã€‚å½“ç„¶ï¼Œä½ ä¸ä¼š <em>æƒ³</em> è¿™æ ·å†™çš„ï¼Œä½†è¿™<a href=\"https://github.com/facebook/react/pull/3583#issuecomment-90296667\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">å¯ä»¥ç”¨æ¥</a>ä¼˜åŒ–ç¼–è¯‘å™¨ï¼Œåœ¨ workers ä¹‹é—´ä¼ é€’UIå…ƒç´ ï¼Œæˆ–è€…å°†JSXä»ReactåŒ…è§£è€¦å‡ºæ¥ã€‚</p>\n<p>ä½†æ˜¯ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨æœ‰å…è®¸ç”¨æˆ·å­˜å‚¨ä»»æ„JSONå¯¹è±¡çš„æ¼æ´ï¼Œè€Œå‰ç«¯éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™å¯èƒ½ä¼šå‘ç”Ÿä¸€ä¸ªé—®é¢˜ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// æœåŠ¡ç«¯å…è®¸ç”¨æˆ·å­˜å‚¨JSON</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">let</span> expectedTextButGotJSON <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  props<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    dangerouslySetInnerHTML<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      __html<span class=\"token punctuation\">:</span> <span class=\"token string\">'/* æŠŠä½ æƒ³çš„æç€ */'</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// ...</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> text<span class=\"token punctuation\">:</span> expectedTextButGotJSON <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Dangerous in React 0.13</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">  </span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒReact 0.13<a href=\"http://danlec.com/blog/xss-via-a-spoofed-react-element\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">å¾ˆå®¹æ˜“</a>å—åˆ°XSSæ”»å‡»ã€‚å†æ¬¡å£°æ˜ï¼Œ<strong>è¿™ä¸ªæ”»å‡»æ˜¯æœåŠ¡ç«¯å­˜åœ¨æ¼æ´å¯¼è‡´çš„</strong>ã€‚ä¸è¿‡ï¼ŒReactä¼šä¸ºäº†å¤§å®¶çš„å®‰å…¨åšæ›´å¤šå·¥ä½œã€‚ä»React 0.14å¼€å§‹ï¼Œå®ƒåšåˆ°äº†ã€‚</p>\n<p>React 0.14ä¿®å¤æ‰‹æ®µæ˜¯ç”¨Symbolæ ‡è®°æ¯ä¸ªReactå…ƒç´ (element)ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    bgcolor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#ffa7c4'</span><span class=\"token punctuation\">,</span>\n    children<span class=\"token punctuation\">:</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">  $$<span class=\"token keyword\">typeof</span><span class=\"token punctuation\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¿™æ˜¯ä¸ªæœ‰æ•ˆçš„åŠæ³•ï¼Œå› ä¸ºJSONä¸æ”¯æŒ<code class=\"language-text\">Symbol</code>ç±»å‹ã€‚<strong>æ‰€ä»¥å³ä½¿æœåŠ¡å™¨å­˜åœ¨ç”¨JSONä½œä¸ºæ–‡æœ¬è¿”å›å®‰å…¨æ¼æ´ï¼ŒJSONé‡Œä¹Ÿä¸åŒ…å« <code class=\"language-text\">Symbol.for(&#39;react.element&#39;)</code></strong>ã€‚Reactä¼šæ£€æµ‹ <code class=\"language-text\">element.$$typeof</code>ï¼Œå¦‚æœå…ƒç´ ä¸¢å¤±æˆ–è€…æ— æ•ˆï¼Œä¼šæ‹’ç»å¤„ç†è¯¥å…ƒç´ ã€‚</p>\n<p>ç‰¹æ„ç”¨ <code class=\"language-text\">Symbol.for()</code> çš„å¥½å¤„æ˜¯ <strong>Symbols é€šç”¨äº iframes å’Œ workers ç­‰ç¯å¢ƒä¸­</strong>ã€‚å› æ­¤æ— è®ºåœ¨å¤šå¥‡æ€ªçš„æ¡ä»¶ä¸‹ï¼Œè¿™æ–¹æ¡ˆä¹Ÿä¸ä¼šå½±å“åˆ°åº”ç”¨ä¸åŒéƒ¨åˆ†ä¼ é€’å¯ä¿¡çš„å…ƒç´ ã€‚åŒæ ·ï¼Œå³ä½¿é¡µé¢ä¸Šæœ‰å¾ˆå¤šä¸ªReactå‰¯æœ¬ï¼Œå®ƒä»¬ä¹Ÿ â€œæ¥å—â€ æœ‰æ•ˆçš„<code class=\"language-text\">$$typeof</code>å€¼ã€‚</p>\n<hr>\n<p>å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Symbols</a> æ€ä¹ˆåŠï¼Ÿ</p>\n<p>å”‰ï¼Œé‚£è¿™ç§ä¿æŠ¤æ–¹æ¡ˆå°±æ— æ•ˆäº†ã€‚Reactä»ç„¶ä¼šåŠ ä¸Š <code class=\"language-text\">$$typeof</code> å­—æ®µä»¥ä¿è¯ä¸€è‡´æ€§ï¼Œä½†åªæ˜¯<a href=\"https://github.com/facebook/react/blob/8482cbe22d1a421b73db602e1f470c632b09f693/packages/shared/ReactSymbols.js#L14-L16\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">è®¾ç½®ä¸€ä¸ªæ•°å­—</a>è€Œå·²â€”â€” <code class=\"language-text\">0xeac7</code>ã€‚</p>\n<p>ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ•°å­—ï¼Ÿå› ä¸º <code class=\"language-text\">0xeac7</code>çœ‹èµ·æ¥æœ‰ç‚¹åƒ â€œReactâ€ã€‚</p>","timeToRead":3,"frontmatter":{"title":"ä¸ºä»€ä¹ˆReactå…ƒç´ æœ‰ä¸€ä¸ª$$typeofå±æ€§ï¼Ÿ","date":"December 03, 2018","spoiler":"æœ‰äº›éƒ¨åˆ†æ˜¯å…³äºå®‰å…¨çš„ã€‚"},"fields":{"slug":"/zh-hans/why-do-react-elements-have-typeof-property/"}}},"pageContext":{"slug":"/zh-hans/why-do-react-elements-have-typeof-property/","previous":{"fields":{"slug":"/es/how-does-react-tell-a-class-from-a-function/","directoryName":"how-does-react-tell-a-class-from-a-function","maybeAbsoluteLinks":["/why-do-we-write-super-props/"]},"frontmatter":{"title":"Â¿CÃ³mo React distingue una clase de una funciÃ³n?"}},"next":{"fields":{"slug":"/why-do-react-elements-have-typeof-property/","directoryName":"why-do-react-elements-have-typeof-property","maybeAbsoluteLinks":[]},"frontmatter":{"title":"Why Do React Elements Have a $$typeof Property?"}},"translatedLinks":[]}}